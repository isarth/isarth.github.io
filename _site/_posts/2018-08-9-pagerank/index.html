<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.9.0 by Michael Rose
  Copyright 2013-2018 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE.txt
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>PageRank - Home</title>
<meta name="description" content="Indexing the web pages">



<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Home">
<meta property="og:title" content="PageRank">
<meta property="og:url" content="http://localhost:4000/_posts/2018-08-9-pagerank/">


  <meta property="og:description" content="Indexing the web pages">



  <meta property="og:image" content="http://localhost:4000/assets/images/google-logo.png">



  <meta name="twitter:site" content="@isarth23">
  <meta name="twitter:title" content="PageRank">
  <meta name="twitter:description" content="Indexing the web pages">
  <meta name="twitter:url" content="http://localhost:4000/_posts/2018-08-9-pagerank/">

  
    <meta name="twitter:card" content="summary">
    
      <meta name="twitter:image" content="http://localhost:4000/assets/images/google-logo.png">
    
  

  







  

  


<link rel="canonical" href="http://localhost:4000/_posts/2018-08-9-pagerank/">







  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Person",
      "name": "Sarthak Anand",
      "url": "http://localhost:4000",
      "sameAs": ["https://facebook.com/isarth","https://twitter.com/isarth23"]
    }
  </script>







<!-- end _includes/seo.html -->


<link href="http://localhost:4000/feed.xml" type="application/atom+xml" rel="alternate" title="Home Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="http://localhost:4000/assets/css/main.css">

<!--[if lte IE 9]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->


    <!-- start custom head snippets -->

<!-- insert favicons. use http://realfavicongenerator.net/ -->

<!-- end custom head snippets -->
  </head>

  <body class="layout--single">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    <div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <a class="site-title" href="http://localhost:4000/">Home</a>
        <ul class="visible-links">
          
            
            <li class="masthead__menu-item">
              <a href="http://localhost:4000/about/" >About</a>
            </li>
          
        </ul>
        
        <button class="search__toggle" type="button">
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle Menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>

    <div class="initial-content">
      
  











<div class="page__hero--overlay"
  style="background-color: #333; "
>
  
    <div class="wrapper">
      <h1 class="page__title" itemprop="headline">
        
          PageRank

        
      </h1>
      
        <p class="page__lead">Indexing the web pages
</p>
      
      
      
    </div>
  
  
</div>





<div id="main" role="main">
  

  <article class="page" itemscope itemtype="http://schema.org/CreativeWork">
    <meta itemprop="headline" content="PageRank">
    <meta itemprop="description" content="Indexing the web pages">
    
    

    <div class="page__inner-wrap">
      

      <section class="page__content" itemprop="text">
        
        <p>In simple terms, PageRank is an intuitive way of ranking web pages, which formed the basis for google’s web indexing algorithm during its early phase. Believe it or not Page Rank is a very intuitive algorithm. In this article, you’ll learn about the ituition behind page rank and implementing page rank in python. The article is divided into following sections:</p>

<ul>
  <li>Basic Idea behind Page Rank</li>
  <li>Understanding the Pank Rank algorithm</li>
  <li>Implementing Page Rank from scratch</li>
</ul>

<h2 id="basic-idea-behind-page-rank">Basic Idea behind Page Rank</h2>
<p>The intuition behind the Page-Rank is based on the idea that popularity of a webpage is determined not only the number of incoming links but also by the kind on incomings links. Citations from highly ranked pages contribute more than lower ranked web pages. The page rank of a web page A cited by web page B shown in Fig. 1 is given the equation:</p>
<p align="center">
<img src="/assets/images/Page_rank/ex.png" />
<figcaption align="center">Fig.1 Example of web graph.</figcaption>
</p>

<script type="text/javascript" async="" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

<p>\begin{equation}
 PR(A)=(1-d)+ d* P(B,A)*PR(B) 
\end{equation}</p>

<p align="left">
 PR(A) : PageRank of Page A <br />
 PR(B) : PageRank of Page B <br />
 P(B,A): Probability going from B to A (here it is one)<br />
 d : is known as Damping factor, to add some randomness to the equation. 
</p>
<p>Page rank over the complete web graph is calculated until it converges to final values.</p>
<h2 id="page-rank-algorithm">Page Rank Algorithm</h2>
<p>To have a better understanding how page rank works, consider a graph (shown by Fig. 2) of webpages having links shown by the arrow. Note if there are web pages with no out link then the do not contribute to the page ranking (they are usually refered as dangling pages).</p>
<p align="center">
<img src="/assets/images/Page_rank/graph.png" />
<figcaption align="center">Fig.2</figcaption>
</p>
<p>Initially page rank of all the web pages is taken as 1. Weight of the edge is the probability of going from a web page X to Y ( The web page A has 2 out links therefore probability to go a single web page is 1/2 ). After expressing the web graph in terms of probabilities the web graph looks something like shown in the Fig.3. The page rank of each web page is determined by applying the PageRank equation. This process is repeated until the algorithm converges i.e. the values of page rank do change beyond an small value ( know as epsilon usually fixed as 1e-4 ). The damping factor (d) introduced is to add some randomness over the web graph i.e. d is probability that a user will move to the linked web page and 1-d is the probablity of choosing a random web page, it is usually taken as 0.85.</p>
<p align="center">
<img src="/assets/images/Page_rank/graph_prob.png" />
<figcaption align="center">Fig.3</figcaption>
</p>
<p>For iteration 1: <br />
<script type="text/javascript" async="" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
 <script type="math/tex">PR(C)=(1-d) + d*( P(A,C)*PR(A) + P(B,C)*PR(B) + P(D,C)*PR(D))</script>
 <br />
 <script type="math/tex">PR(C)=(0.15)+ 0.85*( 0.5*1 + 1*1 + 1*1) = 2.275</script>
<br />
<br />
The PR(C) can also be calculated by matrix dot product.</p>
<p align="center">
<img src="/assets/images/Page_rank/pr_c.png" />
</p>
<p>Similarly extendting this for all the web pages we end up with the equation:  <br />  ( * represents matrix multiplication)</p>
<p align="center">
<img src="/assets/images/Page_rank/eq.png" />
</p>
<p align="center">
<img src="/assets/images/Page_rank/mat.png" /></p>
<p>\begin{equation}
 PR=(1-d)+ d* (C^T*PR) 
\end{equation}</p>

<p>Where matrix C represents the probability transition ( C[i][j] = probability of the user transitioning from page i to page j).
The C matrix of our example can be expressed as the matrix represented below. Also the intial page ranks are as assinged 1 for all the web pages. The PRs of web pages are calculated until the PRs converge to a certain value.</p>

<h2 id="implementing-page-rank">Implementing Page Rank</h2>
<p>Page Rank implementation in python:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="k">def</span> <span class="nf">pagerank</span><span class="p">(</span><span class="n">C</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">0.0001</span><span class="p">,</span> <span class="n">d</span><span class="o">=</span><span class="mf">0.85</span><span class="p">):</span>
    <span class="n">P</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">C</span><span class="p">))</span> 
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="n">P_</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">A</span><span class="p">))</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">d</span><span class="p">)</span> <span class="o">+</span> <span class="n">d</span> <span class="o">*</span> <span class="n">C</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">P</span><span class="p">)</span>
        <span class="n">delta</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">P_</span> <span class="o">-</span> <span class="n">P</span><span class="p">)</span><span class="o">.</span><span class="nb">sum</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">delta</span> <span class="o">&lt;=</span> <span class="n">eps</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">P_</span>
        <span class="n">P</span> <span class="o">=</span> <span class="n">P_</span>
<span class="n">p</span><span class="o">=</span><span class="n">pagerank</span><span class="p">(</span><span class="n">C</span><span class="p">)</span>
<span class="c">#result</span>
<span class="c">#p=[1.16, 0.644, 1.19, 0.15]</span>
</code></pre></div></div>
<p>Final ranking of our example are C &gt; A &gt; B &gt; D !</p>

<p>Notice: page rank of A is high even when it has only one incoming link.</p>

        
      </section>

      <footer class="page__meta">
        
        


        
      </footer>

      

      
    </div>

    
  </article>

  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap">
  <input type="text" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  <div id="results" class="results"></div>
</div>
      </div>
    

    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    
    
      <li><a href="https://twitter.com/isarth23"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
    
    
    
      <li><a href="https://github.com/isarth"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
    
    
    
    <li><a href="http://localhost:4000/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2018 Sarthak Anand. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="http://localhost:4000/assets/js/main.min.js"></script>
  <script src="https://use.fontawesome.com/releases/v5.0.2/js/all.js"></script>



  
  
  <script src="http://localhost:4000/assets/js/lunr/lunr.min.js"></script>
  <script src="http://localhost:4000/assets/js/lunr/lunr-store.js"></script>
  <script src="http://localhost:4000/assets/js/lunr/lunr-en.js"></script>






  </body>
</html>